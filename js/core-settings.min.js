!function(){new Vue({el:"#vue-settings",data:JSON.parse(document.getElementById("vue-settings").getAttribute("data-env")),methods:{clearStatuses:function(){this.forms.settings.saved=!1,this.forms.settings.errors={},this.forms.prune&&(this.forms.prune.saved=!1,this.forms.prune.errors={}),this.forms.send&&(this.forms.send.saved=!1,this.forms.send.errors={})},settingsSubmit:function(){var vue=this;this.clearStatuses(),this.forms.settings.loading=!0,this.formAjax(this.forms.settings,function(r){vue.forms.settings.loading=!1,r.ok&&r.data?(vue.forEach(r.data,function(v,k){vue.forms.settings[k]=v}),vue.forms.settings.saved=!0):r.errors?vue.forms.settings.errors=r.errors:vue.forms.settings.errors.other="The server garbled the last response. :(",vue.scrollTo()})},sendSubmit:function(){var vue=this;this.clearStatuses(),this.forms.send.loading=!0,this.formAjax(this.forms.send,function(r){vue.forms.send.loading=!1,r.ok?vue.forms.send.saved=!0:r.errors?vue.forms.send.errors=r.errors:vue.forms.send.errors.other="The server garbled the last response. :(",vue.scrollTo()})},pruneSubmit:function(mode){var vue=this;this.clearStatuses(),this.forms.prune.loading=!0,this.forms.prune.mode=mode,this.forms.prune.age=parseInt(this.prune[mode],10)||0,this.formAjax(this.forms.prune,function(r){vue.forms.prune.loading=!1,r.ok&&r.data?(vue.forms.prune.saved=!0,vue.hasContent=r.data):r.errors?vue.forms.prune.errors=r.errors:vue.forms.prune.errors.other="The server garbled the last response. :(",vue.scrollTo()})},getQueue:function(mode){var vue=this;this.queue&&this.formAjax(this.forms.queue,function(r){r.ok&&r.data?vue.queue=r.data.queue:vue.queue={total:0,due:0,next:""}})}},mounted:function(){this.queue&&(setInterval(this.getQueue(),3e4),this.getQueue())}})}();